(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{DropdownContentElement:()=>y,DropdownElement:()=>O});const n=new WeakMap,o=e=>{if(n.has(e))return n.get(e);const t={};return n.set(e,t),t},r=function(e,t,n){const r=o(e);if(1===arguments.length)return r;if(2===arguments.length)return r[t];if(3!==arguments.length)throw new Error("Not allowed size of arguments!");r[t]=n},i=(e,t,n)=>{Object.defineProperty(e,t,{get:n,configurable:!1,enumerable:!1})},s=()=>{let e=null,t=null;const n=new Promise(((n,o)=>{e=n,t=o}));let o,r=!1,s=!1;return((e,t,n)=>{Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!1})})(n,"resolve",(n=>{o=n,r=!0,o instanceof Error?(s=!0,t(o)):e(o)})),i(n,"value",(()=>o)),i(n,"error",(()=>s)),i(n,"resolved",(()=>r)),n},a=(e,t)=>{let n="unsupported";if("string"==typeof t)n=t;else if(t instanceof HTMLElement)n=t.nodeName;else{if("string"!=typeof t.NODENAME)throw new Error(typeof t+' is not supported as parameter "node"!');n=t.NODENAME}return`${n.toLowerCase()}:${e}`},c=(m="ready",function(e,t){if(2!=arguments.length)return r(e,m);r(e,m,t)}),l=new WeakMap,u=e=>class extends e{constructor({shadowRoot:e=!1,content:t=null,createUID:n=!1,uidPrefix:o="id-",uidSuffix:r=""}={}){super(),c(this,s()),n&&this.attr("id",n(o,r)),e&&this.attachShadow({mode:open}),t&&this.root.append("function"==typeof t?t(this):t)}get root(){return this.shadowRoot||this}get ready(){return c(this)}async init(){}async destroy(){this.ready.resolved&&c(this,s())}connectedCallback(){this.ownerDocument==document&&(e=>{let t=l.get(e);t&&clearTimeout(t),l.get(e,setTimeout((async()=>{l.delete(e);try{await e.init(),e.ready.resolve()}catch(t){console.error("Can't initialize component!",e,t),e.ready(resolve(t))}e.trigger(a("initialzed",e))}),100))})(this)}adoptedCallback(){this.connectedCallback()}attributeChangedCallback(e,t,n){t!=n&&this.isConnected&&(this.trigger(100,a(`attribute--${e}`,this)),this.trigger(100,a("change",this)))}disconnectedCallback(){this.destroy()}},d=new Map,h=(e=>{let t=d.get(e);return null==t&&(t=u(e),d.set(e,t)),t})(HTMLElement),p=(e,t)=>"string"==typeof t?t+e:"d-"+e,f=function(e,t){const n=e.NODENAME;customElements.get(n)||customElements.define(n,e,t)},g=p("dropdown-content");var m;class y extends h{static get NODENAME(){return g}constructor(){super()}}f(y);const v=document.body,w=window.matchMedia("(any-hover: none)").matches;let b=null;const E=()=>{b&&(b.active=!1,b=null)};v.on("click",E);const M=p("dropdown"),N=`${y.NODENAME}, .dropdown-content`;class O extends h{static get NODENAME(){return M}#e=!1;#t=!1;constructor(){super()}async init(){if(await super.init(),!this.#e){let e=null;const t=w?"click":"mouseover";this.on(t,(t=>{const n=t.target;n.is(N)||n.parent(N)||this.active||(t.preventDefault(),t.stopPropagation(),this.active=!0),clearTimeout(e)})),w||this.on("mouseleave",(t=>{e&&clearTimeout(e),e=setTimeout((()=>{this.active&&(t.preventDefault(),t.stopPropagation(),this.active=!1),e=null}),200)}))}}get active(){return this.#t}set active(e){e&&b!=this&&(E(),b=this),this.#t=e,this.attr("active",e?"":null)}}f(O)})();
//# sourceMappingURL=module-defaultjs-html-dropdown.min.js.map