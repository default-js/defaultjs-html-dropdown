(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{DropdownContentElement:()=>m,DropdownElement:()=>M});const n=(t,e,n)=>{Object.defineProperty(t,e,{get:n,configurable:!1,enumerable:!1})},o=()=>{let t=null,e=null;const o=new Promise(((n,o)=>{t=n,e=o}));let i,r=!1,s=!1;return((t,e,n)=>{Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!1})})(o,"resolve",(n=>{i=n,r=!0,i instanceof Error?(s=!0,e(i)):t(i)})),n(o,"value",(()=>i)),n(o,"error",(()=>s)),n(o,"resolved",(()=>r)),o},i=(t,e)=>{let n="unsupported";if("string"==typeof e)n=e;else if(e instanceof HTMLElement)n=e.nodeName;else{if("string"!=typeof e.NODENAME)throw new Error(typeof e+' is not supported as parameter "node"!');n=e.NODENAME}return`${n.toLowerCase()}:${t}`},r=new WeakMap,s=function(t,e,n){const o=(t=>{if(r.has(t))return r.get(t);const e={};return r.set(t,e),e})(t);if(1===arguments.length)return o;if(2===arguments.length)return o[e];if(3!==arguments.length)throw new Error("Not allowed size of arguments!");o[e]=n},a=(f="ready",function(t,e){if(2!=arguments.length)return s(t,f);s(t,f,e)}),c=new WeakMap,l=t=>class extends t{constructor({shadowRoot:t=!1,content:e=null,createUID:n=!1,uidPrefix:i="id-",uidSuffix:r=""}={}){super(),a(this,o()),n&&this.attr("id",n(i,r)),t&&this.attachShadow({mode:"open"}),e&&this.root.append("function"==typeof e?e(this):e)}get root(){return this.shadowRoot||this}get ready(){return a(this)}async init(){}async destroy(){this.ready.resolved&&a(this,o())}connectedCallback(){this.ownerDocument==document&&this.isConnected&&(t=>{let e=c.get(t);e&&clearTimeout(e),c.get(t,setTimeout((async()=>{c.delete(t);const e=a(t);try{await t.init(),e.resolve()}catch(n){console.error("Can't initialize component!",t,n),e.resolve(n)}t.trigger(i("initialzed",t))}),10))})(this)}adoptedCallback(){this.connectedCallback()}attributeChangedCallback(t,e,n){e!=n&&this.isConnected&&(this.trigger(10,i(`attribute--${t}`,this)),this.trigger(10,i("change",this)))}disconnectedCallback(){this.destroy()}},u=new Map,d=(t=>{let e=u.get(t);return null==e&&(e=l(t),u.set(t,e)),e})(HTMLElement),h=(t,e)=>"string"==typeof e?e+t:"d-"+t,p=function(t,e){const n=t.NODENAME;customElements.get(n)||customElements.define(n,t,e)},g=h("dropdown-content");var f;class m extends d{static get NODENAME(){return g}constructor(){super()}}p(m);const v=document.body,y=window.matchMedia("(any-hover: none)").matches;let w=null;const b=t=>{if(w){const e=w.getDropdownContent().getBoundingClientRect();t&&e.top<=t.clientX&&t.clientX<=e.bottom&&e.left<=t.clientY&&t.clientY<=e.right||(w.active=!1,w=null)}};v.on("click",b);const E=h("dropdown"),D=`${m.NODENAME}, .dropdown-content`,C=`${E}--close`;class M extends d{static get NODENAME(){return E}#t=!1;#e=!1;constructor(){super(),this.root.on(C,(t=>{t.preventDefault(),t.stopPropagation(),this.active&&b()}))}async init(){if(await super.init(),!this.#t){let t=null;const e="click"==this.attr("mode")||y?"click":"mouseover";this.on(e,(e=>{const n=e.target;n.is(D)||n.parent(D)||this.active||(e.preventDefault(),e.stopPropagation(),this.active=!0),clearTimeout(t)})),y||this.on("mouseleave",(e=>{t&&clearTimeout(t),t=setTimeout((()=>{this.active&&(e.preventDefault(),e.stopPropagation(),this.active=!1),t=null}),200)}))}}getDropdownContent(){return this.root.find(D).first()}get active(){return this.#e}set active(t){t&&w!=this&&(b(),w=this),this.#e=t,this.attr("active",t?"":null)}}p(M)})();
//# sourceMappingURL=module-defaultjs-html-dropdown.min.js.map