{"version":3,"file":"module-defaultjs-html-dropdown.min.js","mappings":"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","sources":["webpack://@default-js/defaultjs-html-dropdown/webpack/bootstrap","webpack://@default-js/defaultjs-html-dropdown/webpack/runtime/define property getters","webpack://@default-js/defaultjs-html-dropdown/webpack/runtime/hasOwnProperty shorthand","webpack://@default-js/defaultjs-html-dropdown/webpack/runtime/make namespace object","webpack://@default-js/defaultjs-html-dropdown/./node_modules/@default-js/defaultjs-common-utils/src/ObjectUtils.js","webpack://@default-js/defaultjs-html-dropdown/./node_modules/@default-js/defaultjs-common-utils/src/PromiseUtils.js","webpack://@default-js/defaultjs-html-dropdown/./node_modules/@default-js/defaultjs-html-components/src/utils/EventHelper.js","webpack://@default-js/defaultjs-html-dropdown/./node_modules/@default-js/defaultjs-common-utils/src/PrivateProperty.js","webpack://@default-js/defaultjs-html-dropdown/./node_modules/@default-js/defaultjs-html-components/src/Component.js","webpack://@default-js/defaultjs-html-dropdown/./node_modules/@default-js/defaultjs-html-components/src/Constants.js","webpack://@default-js/defaultjs-html-dropdown/./node_modules/@default-js/defaultjs-html-components/src/utils/DefineComponentHelper.js","webpack://@default-js/defaultjs-html-dropdown/./src/js/DropdownContentElement.js","webpack://@default-js/defaultjs-html-dropdown/./src/js/DropdownElement.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import ObjectProperty from \"./ObjectProperty.js\";\r\n\r\nconst equalArraySet = (a, b) => {\r\n\tif (a.length !== b.length) return false;\r\n\tconst length = a.length;\r\n\tfor (let i = 0; i < length; i++)\r\n\t\tif (!equalPojo(a[i], b[i])) {\r\n\t\t\t//console.log(\"false\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\treturn true;\r\n};\r\n\r\nconst equalMap = (a, b) => {\r\n\tif (a.length !== b.length) return false;\r\n\tfor (const key of a.keys())\r\n\t\tif (!equalPojo(a.get(key), b.get(key))) {\r\n\t\t\t//console.log(\"false\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\treturn true;\r\n};\r\n\r\nconst equalClasses = (a, b) => {\r\n\tconst clazzA = Object.getPrototypeOf(a);\r\n\tconst clazzB = Object.getPrototypeOf(b);\r\n\tif (clazzA != clazzB) return false;\r\n\r\n\tif (!clazzA) return true;\r\n\r\n\tconst propertiesA = Object.getOwnPropertyNames(clazzA);\r\n\tconst propertiesB = Object.getOwnPropertyNames(clazzB);\r\n\r\n\tif (propertiesA.length !== propertiesB.length) return false;\r\n\tfor (const key of propertiesA) {\r\n\t\tconst valueA = a[key];\r\n\t\tconst valueB = b[key];\r\n\r\n\t\tif (!equalPojo(valueA, valueB)) return false;\r\n\t}\r\n\treturn true;\r\n};\r\n\r\nconst equalObject = (a, b) => {\r\n\tconst propertiesA = Object.keys(a);\r\n\tconst propertiesB = Object.keys(b);\r\n\r\n\tif (propertiesA.length !== propertiesB.length) return false;\r\n\tfor (const key of propertiesA) {\r\n\t\tconst valueA = a[key];\r\n\t\tconst valueB = b[key];\r\n\r\n\t\tif (!equalPojo(valueA, valueB)) return false;\r\n\t}\r\n\treturn true;\r\n};\r\n\r\nexport const isNullOrUndefined = (object) => {\r\n\treturn object == null || typeof object === \"undefined\";\r\n};\r\n\r\nexport const isPrimitive = (object) => {\r\n\tif (object == null) return true;\r\n\r\n\tconst type = typeof object;\r\n\tswitch (type) {\r\n\t\tcase \"number\":\r\n\t\tcase \"bigint\":\r\n\t\tcase \"boolean\":\r\n\t\tcase \"string\":\r\n\t\tcase \"undefined\":\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nexport const isObject = (object) => {\r\n\tif(isNullOrUndefined(object))\r\n\t\treturn false;\r\n\r\n\treturn typeof object === \"object\" && (!object.constructor || object.constructor.name === \"Object\");\r\n};\r\n\r\n/**\r\n * equalPojo -> compares only pojos, array, set, map and primitives\r\n */\r\nexport const equalPojo = (a, b) => {\r\n\tconst nullA = isNullOrUndefined(a);\r\n\tconst nullB = isNullOrUndefined(b);\r\n\tif (nullA || nullB) return a === b;\r\n\r\n\tif (isPrimitive(a) || isPrimitive(b)) return a === b;\r\n\r\n\tconst typeA = typeof a;\r\n\tconst typeB = typeof b;\r\n\tif (typeA != typeB) return false;\r\n\tif (typeA === \"function\") return a === b;\r\n\t//if (a.constructor !== b.constructor) return false;\r\n\t//if (a instanceof Array || a instanceof Set) return equalArraySet(a, b);\r\n\t//if (a instanceof Map) return equalMap(a, b);\r\n\r\n\treturn equalObject(a, b) && equalClasses(a, b);\r\n};\r\n\r\n/**\r\n * checked if an object a simple object. No Array, Map or something else.\r\n *\r\n * @param aObject:object the object to be testing\r\n *\r\n * @return boolean\r\n */\r\nexport const isPojo = (object) => {\r\n\tif (!isObject(object)) return false;\r\n\r\n\tfor (const key in object) {\r\n\t\tconst value = object[key];\r\n\t\tif (typeof value === \"function\") return false;\r\n\t}\r\n\r\n\treturn true;\r\n};\r\n\r\n/**\r\n * append a propery value to an object. If propery exists its would be converted to an array\r\n *\r\n *  @param aKey:string name of property\r\n *  @param aData:any property value\r\n *  @param aObject:object the object to append the property\r\n *\r\n *  @return returns the changed object\r\n */\r\nexport const append = function (aKey, aData, aObject) {\r\n\tif (typeof aData !== \"undefined\") {\r\n\t\tconst property = ObjectProperty.load(aObject, aKey, true);\r\n\t\tproperty.append = aData;\r\n\t}\r\n\treturn aObject;\r\n};\r\n\r\n/**\r\n * merging object into a target object. Its only merge simple object and sub objects. Every other\r\n * value would be replaced by value from the source object.\r\n *\r\n * sample: merge(target, source-1, source-2, ...source-n)\r\n *\r\n * @param target:object the target object to merging into\r\n * @param sources:object\r\n *\r\n * @return object returns the target object\r\n */\r\nexport const merge = function (target, ...sources) {\r\n\tif (!target) target = {};\r\n\r\n\tfor (let source of sources) {\r\n\t\tif (isPojo(source)) {\r\n\t\t\tObject.getOwnPropertyNames(source).forEach((key) => {\r\n\t\t\t\tif (isPojo(target[key])) merge(target[key], source[key]);\r\n\t\t\t\telse target[key] = source[key];\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treturn target;\r\n};\r\n\r\nconst buildPropertyFilter = function ({ names, allowed }) {\r\n\treturn (name, value, context) => {\r\n\t\treturn names.includes(name) === allowed;\r\n\t};\r\n};\r\n\r\nexport const filter = function () {\r\n\tconst [data, propFilter, { deep = false, recursive = true, parents = [] } = {}] = arguments;\r\n\tconst result = {};\r\n\r\n\tfor (let name in data) {\r\n\t\tconst value = data[name];\r\n\t\tconst accept = propFilter(name, value, data);\r\n\t\tif (accept && (!deep || value === null || value === undefined)) result[name] = value;\r\n\t\telse if (accept && deep) {\r\n\t\t\tconst type = typeof value;\r\n\t\t\tif (type !== \"object\" || value instanceof Array || value instanceof Map || value instanceof Set || value instanceof RegExp || parents.includes[value] || value == data) result[name] = value;\r\n\t\t\telse result[name] = filter(value, propFilter, { deep, recursive, parents: parents.concat(data) });\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n};\r\n\r\nexport const defValue = (o, name, value) => {\r\n\tObject.defineProperty(o, name, {\r\n\t\tvalue,\r\n\t\twritable: false,\r\n\t\tconfigurable: false,\r\n\t\tenumerable: false,\r\n\t});\r\n};\r\nexport const defGet = (o, name, get) => {\r\n\tObject.defineProperty(o, name, {\r\n\t\tget,\r\n\t\tconfigurable: false,\r\n\t\tenumerable: false,\r\n\t});\r\n};\r\n\r\nexport const defGetSet = (o, name, get, set) => {\r\n\tObject.defineProperty(o, name, {\r\n\t\tget,\r\n\t\tset,\r\n\t\tconfigurable: false,\r\n\t\tenumerable: false,\r\n\t});\r\n};\r\n\r\nexport default {\r\n\tisNullOrUndefined,\r\n\tisObject,\r\n\tequalPojo,\r\n\tisPojo,\r\n\tappend,\r\n\tmerge,\r\n\tfilter,\r\n\tbuildPropertyFilter,\r\n\tdefValue,\r\n\tdefGet,\r\n\tdefGetSet,\r\n};\r\n","import {defValue, defGet} from \"./ObjectUtils\"\r\n\r\nexport const timeoutPromise = (fn, ms) =>{\r\n\tlet canceled = false;\r\n\tlet timeout = null;\r\n\tconst promise = new Promise((r, e) => {\r\n\t\ttimeout = setTimeout(()=> {\r\n\t\t\ttimeout = null;\r\n\t\t\tfn(r,e);\r\n\t\t}, ms)\r\n\t});\r\n\r\n\tconst then = promise.then;\r\n\tpromise.then = (fn) => {\r\n\t\tthen.call(promise, (result) => {\r\n\t\t\tif(!this.canceled)\r\n\t\t\t\treturn fn(result);\r\n\t\t});\r\n\t}\r\n\r\n\tdefValue(promise, \"cancel\", () => {\r\n\t\tif(timeout){\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\tcanceled = true;\r\n\t\t}\r\n\t});\r\n\tdefGet(promise, canceld, () => canceled);\r\n\r\n\treturn promise;\r\n}\r\n\r\n\r\nexport const lazyPromise = () => {\r\n\t\tlet promiseResolve = null;\r\n\t\tlet promiseError = null;\r\n\r\n\t\tconst promise = new Promise((r, e) => {\r\n\t\t\tpromiseResolve = r;\r\n\t\t\tpromiseError = e;\r\n\t\t});\r\n\r\n\t\tlet resolved = false;\r\n\t\tlet error = false;\r\n\t\tlet value = undefined;\r\n\r\n\t\tdefValue(promise, \"resolve\", (result) => {\r\n\t\t\tvalue = result;\r\n\t\t\tresolved = true;\r\n\t\t\tif (value instanceof Error) {\r\n\t\t\t\terror = true;\r\n\t\t\t\tpromiseError(value);\r\n\t\t\t} else promiseResolve(value);\r\n\t\t});\r\n\r\n\t\tdefGet(promise, \"value\", () => value);\r\n\t\tdefGet(promise, \"error\", () => error);\r\n\t\tdefGet(promise, \"resolved\", () => resolved);\r\n\r\n\t\treturn promise;\r\n};\r\nexport default {\r\n\tlazyPromise,\r\n\ttimeoutPromise\r\n}\r\n","import {attributeChangeEventPrefix} from \"../Constants\";\n\nexport const componentEventname = (eventType, node ) => {\t\n\tlet nodename = \"unsupported\";\n\tif(typeof node === \"string\")\n\t\tnodename = node;\n\telse if(node instanceof HTMLElement)\n\t\tnodename = node.nodeName;\n\telse if(typeof node.NODENAME === \"string\")\n\t\tnodename = node.NODENAME;\n\telse throw new Error(`${typeof node} is not supported as parameter \"node\"!`);\n\t\n   return `${nodename.toLowerCase()}:${eventType}`;//use @ as separtor and not :\n};\n\n\nexport const attributeChangeEventname = (attribute, node ) => {\n    return componentEventname(`${attributeChangeEventPrefix}-${attribute}`, node);\n};\n\nexport default {componentEventname, attributeChangeEventname}","const PRIVATE_PROPERTIES = new WeakMap();\r\nexport const privateStore = (obj) => {\r\n\tif(PRIVATE_PROPERTIES.has(obj))\r\n\t\treturn PRIVATE_PROPERTIES.get(obj);\r\n\t\r\n\tconst data = {};\r\n\tPRIVATE_PROPERTIES.set(obj, data);\r\n\treturn data;\r\n};\r\n\r\nexport const privateProperty = function(obj, name, value) {\r\n\tconst data = privateStore(obj);\r\n\tif(arguments.length === 1)\r\n\t\treturn data;\r\n\telse if(arguments.length === 2)\r\n\t\treturn data[name];\r\n\telse if(arguments.length === 3)\r\n\t\tdata[name] = value;\r\n\telse\r\n\t\tthrow new Error(\"Not allowed size of arguments!\");\r\n};\r\n\r\nexport const privatePropertyAccessor = (varname) => {\r\n\treturn function(self, value){\r\n\t\tif(arguments.length == 2)\r\n\t\t\tprivateProperty(self, varname, value);\r\n\t\telse\r\n\t\t\treturn privateProperty(self, varname);\r\n\t};\r\n};\r\n\r\nexport default {privateProperty, privatePropertyAccessor, privateStore};","import { lazyPromise } from \"@default-js/defaultjs-common-utils/src/PromiseUtils\";\nimport { uuid } from \"@default-js/defaultjs-common-utils/src/UUID\";\nimport { initTimeout, triggerTimeout } from \"./Constants\";\nimport { attributeChangeEventname, componentEventname } from \"./utils/EventHelper\";\nimport { privatePropertyAccessor } from \"@default-js/defaultjs-common-utils/src/PrivateProperty\";\n\nconst PRIVATE_READY = privatePropertyAccessor(\"ready\");\n\nconst TIMEOUTS = new WeakMap();\nconst init = (component) => {\n\tlet timeout = TIMEOUTS.get(component);\n\tif (timeout) clearTimeout(timeout);\n\n\tTIMEOUTS.get(component, setTimeout(async () => {\n\t\tTIMEOUTS.delete(component);\n\t\tconst ready = PRIVATE_READY(component);\n\t\ttry{\n\t\t\tawait component.init();\n\t\t\tready.resolve();\n\t\t}catch(e){\n\t\t\tconsole.error(\"Can't initialize component!\", component, e);\n\t\t\tready.resolve(e);\n\t\t}\n\t\tcomponent.trigger(componentEventname(\"initialzed\", component));\n\t}, initTimeout));\t\n};\n\nexport const createUID = (prefix, suffix) => {\n\tlet count = 0;\n\tlet id = null;\n    while(count < 100){\n\t\tid = `${prefix ? prefix : \"\"}${uuid()}${suffix ? suffix : \"\"}`;\n\t\tif(!document.getElementById(id))\n\t\t\treturn id;\n\n\t\tcount++;\n\t}\n\tconsole.error(new Error(\"To many retries to create an unique id - created id is not unique!\"));\n\treturn id;\n};\n\n\n\nconst buildClass = (htmlBaseType) =>{\n\treturn class Component extends htmlBaseType {\n\n\t\t\n\t\tconstructor({shadowRoot = false, content = null, createUID = false, uidPrefix = \"id-\", uidSuffix = \"\"} = {}) {\n\t\t\tsuper();\n\t\t\tPRIVATE_READY(this, lazyPromise());\n\t\t\t\n\t\n\t\t\tif(createUID)\n\t\t\t\tthis.attr(\"id\", createUID(uidPrefix, uidSuffix));\n\t\n\t\t\tif(shadowRoot)\n\t\t\t\tthis.attachShadow({mode:\"open\"});\n\t\t\t\n\t\t\tif(content)\n\t\t\t\tthis.root.append(typeof content === \"function\" ? content(this) : content);\n\t\t}\n\t\n\t\tget root(){\n\t\t\treturn this.shadowRoot || this;\n\t\t}\n\t\n\t\tget ready(){\n\t\t\treturn PRIVATE_READY(this);\n\t\t}\n\t\n\t\tasync init() {}\n\t\n\t\tasync destroy() {\n\t\t\tif(this.ready.resolved)\n\t\t\t\tPRIVATE_READY(this, lazyPromise());\n\t\t}\n\t\n\t\tconnectedCallback() {\n\t\t\tif (this.ownerDocument == document && this.isConnected) init(this);\n\t\t}\n\t\n\t\tadoptedCallback() {\n\t\t\tthis.connectedCallback();\n\t\t}\n\t\n\t\tattributeChangedCallback(name, oldValue, newValue) {\n\t\t\tif (oldValue != newValue && this.isConnected) {\n\t\t\t\tthis.trigger(triggerTimeout, attributeChangeEventname(name, this));\n\t\t\t\tthis.trigger(triggerTimeout, componentEventname(\"change\", this));\n\t\t\t}\n\t\t}\n\t\n\t\tdisconnectedCallback(){\n\t\t\tthis.destroy();\n\t\t}\n\t};\n} \n\nconst CLAZZMAP = new Map();\n\nexport const componentBaseOf = (htmlBaseType) => {\n\tlet clazz = CLAZZMAP.get(htmlBaseType);\n\tif(clazz == null){\n\t\tclazz = buildClass(htmlBaseType);\n\t\tCLAZZMAP.set(htmlBaseType, clazz);\n\t}\n\n\treturn clazz;\n}\n\nconst Component = componentBaseOf(HTMLElement);\n\n\n\nexport default Component;\n","export const componentPrefix = \"d-\";\r\nexport const attributeChangeEventPrefix = \"attribute-\";\r\nexport const initTimeout = 10;\r\nexport const triggerTimeout = 10;\r\n","import { componentPrefix } from \"../Constants\";\n\nexport const toNodeName = (name, prefix) => {\n\tif(typeof prefix === \"string\")\n\t\treturn prefix + name;\n\t\t\n\treturn componentPrefix + name;\n};\n\nexport const define = function(clazz, options) {\n\tconst nodename = clazz.NODENAME;\n\tif (!customElements.get(nodename)) {\n\t\tcustomElements.define(nodename, clazz, options);\n\t}\n};\n\n\nexport default define; \n","import { Component, define } from \"@default-js/defaultjs-html-components\";\r\nimport {toNodeName} from \"@default-js/defaultjs-html-components/src/utils/DefineComponentHelper\";\r\n\r\n\r\nconst NODENAME = toNodeName(\"dropdown-content\");\r\n\r\nexport default class DropdownContentElement extends Component {\r\n\tstatic get NODENAME() {\r\n\t\treturn NODENAME;\r\n\t}\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n};\r\n\r\n\r\ndefine(DropdownContentElement);","import { Component, define } from \"@default-js/defaultjs-html-components\";\r\nimport { toNodeName } from \"@default-js/defaultjs-html-components/src/utils/DefineComponentHelper\";\r\nimport DropdownContentElement from \"./DropdownContentElement\";\r\n\r\nconst BODY = document.body;\r\nconst TOUCH_ONLY = window.matchMedia(\"(any-hover: none)\").matches;\r\n\r\nconst isOnContent = (event, dropdown) => {\r\n\tif (!event) return false;\r\n\tconst { top, bottom, left, right } = dropdown.getDropdownContent().getBoundingClientRect();\r\n\tconst { x, y } = event;\r\n\treturn top <= y && y <= bottom && left <= x && x <= right;\r\n};\r\n\r\n/**\r\n * @type {DropdownElement | HTMLElement}\r\n */\r\nlet OPEN_DROPDOWN = null;\r\n/**\r\n * @function closeActiveDropdown\r\n * @param {MouseEvent} event\r\n */\r\nconst closeActiveDropdown = (event) => {\r\n\tif (OPEN_DROPDOWN) {\t\t\r\n\t\tif (!(isOnContent(event, OPEN_DROPDOWN))) {\r\n\t\t\tOPEN_DROPDOWN.active = false;\r\n\t\t\tOPEN_DROPDOWN = null;\r\n\t\t}\r\n\t}\r\n};\r\nBODY.on(\"click\", closeActiveDropdown);\r\n\r\nconst NODENAME = toNodeName(\"dropdown\");\r\nconst DROPDOWN_CONTENT_SELECTOR = `${DropdownContentElement.NODENAME}, .dropdown-content`;\r\n\r\nconst EVENT__CLOSE = `${NODENAME}--close`;\r\nconst MODE_CLICK = \"click\";\r\n\r\nconst ATTRIBUTE_MODE = \"mode\";\r\nconst ATTRIBUTE_ACTIVE = \"active\";\r\nexport default class DropdownElement extends Component {\r\n\tstatic get NODENAME() {\r\n\t\treturn NODENAME;\r\n\t}\r\n\r\n\t#initialied = false;\r\n\t#active = false;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.root.on(EVENT__CLOSE, (event) => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tif (this.active) closeActiveDropdown();\r\n\t\t});\r\n\t}\r\n\r\n\tasync init() {\r\n\t\tawait super.init();\r\n\r\n\t\tif (!this.#initialied) {\r\n\t\t\tlet mouseleaveTimeout = null;\r\n\t\t\tconst clickMode = this.attr(ATTRIBUTE_MODE) == MODE_CLICK || TOUCH_ONLY;\r\n\t\t\tconst eventType = clickMode ? \"click\" : \"mouseover\";\r\n\t\t\tthis.on(eventType, (event) => {\r\n\t\t\t\tconst target = event.target;\r\n\t\t\t\tconst onContent = target.is(DROPDOWN_CONTENT_SELECTOR) || target.parent(DROPDOWN_CONTENT_SELECTOR);\r\n\t\t\t\tif (!onContent) {\r\n\t\t\t\t\tif (!this.active) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\tthis.active = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tclearTimeout(mouseleaveTimeout);\r\n\t\t\t});\r\n\t\t\tif (!TOUCH_ONLY) {\r\n\t\t\t\tthis.on(\"mouseleave\", (event) => {\r\n\t\t\t\t\tif (mouseleaveTimeout) clearTimeout(mouseleaveTimeout);\r\n\t\t\t\t\tmouseleaveTimeout = setTimeout(() => {\r\n\t\t\t\t\t\tif (this.active) {\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\tthis.active = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmouseleaveTimeout = null;\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @returns {HTMLElement}\r\n\t */\r\n\tgetDropdownContent() {\r\n\t\treturn this.root.find(DROPDOWN_CONTENT_SELECTOR).first();\r\n\t}\r\n\r\n\tget active() {\r\n\t\treturn this.#active;\r\n\t}\r\n\r\n\tset active(value) {\r\n\t\tif (value && OPEN_DROPDOWN != this) {\r\n\t\t\tcloseActiveDropdown();\r\n\t\t\tOPEN_DROPDOWN = this;\r\n\t\t}\r\n\t\tthis.#active = value;\r\n\t\tthis.attr(ATTRIBUTE_ACTIVE, value ? \"\" : null);\r\n\t}\r\n}\r\n\r\ndefine(DropdownElement);\r\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","defGet","name","configurable","lazyPromise","promiseResolve","promiseError","promise","Promise","r","e","resolved","error","writable","defValue","result","Error","componentEventname","eventType","node","nodename","HTMLElement","nodeName","NODENAME","toLowerCase","PRIVATE_PROPERTIES","WeakMap","privateProperty","data","has","set","privateStore","arguments","length","PRIVATE_READY","varname","self","TIMEOUTS","buildClass","htmlBaseType","constructor","shadowRoot","content","createUID","uidPrefix","uidSuffix","super","this","attr","attachShadow","mode","root","append","ready","init","destroy","connectedCallback","ownerDocument","document","isConnected","component","timeout","clearTimeout","setTimeout","async","delete","resolve","console","trigger","adoptedCallback","attributeChangedCallback","oldValue","newValue","disconnectedCallback","CLAZZMAP","Map","clazz","componentBaseOf","toNodeName","prefix","options","customElements","define","DropdownContentElement","BODY","body","TOUCH_ONLY","window","matchMedia","matches","OPEN_DROPDOWN","closeActiveDropdown","event","dropdown","top","bottom","left","right","getDropdownContent","getBoundingClientRect","x","y","active","on","DROPDOWN_CONTENT_SELECTOR","EVENT__CLOSE","DropdownElement","preventDefault","stopPropagation","mouseleaveTimeout","target","is","parent","find","first"],"sourceRoot":""}